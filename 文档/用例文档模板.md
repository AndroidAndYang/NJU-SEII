#用例文档
## 1. 引言
	
1. 目的：本文档描述了影院购票系统的用户需求。
2. 阅读说明：用例描述的约定为必须要包括用例ID、名称、创建日期、最后一次更新日期、参与者、触发条件、前置条件、后置条件、优先级、正常流程、扩展流程及特殊需求。
3. 参考文献：《软件工程与计算（卷二）——软件开发的技术基础》

## 2. 用例图

![](https://i.loli.net/2019/03/20/5c91de2d96d7f.png)

## 3. 用例列表
* 账户信息管理
* 上架电影
* 预售信息统计
* 查看电影详情
* 标记喜好电影
* 搜索电影信息

## 4. 详细用例描述

### 4.1 账户信息管理

- 用例编号：1      

- 名称： 账户信息管理

- 创建者：赵茁羽

- 创建日期：2019.3.18

- 最后一次更新者：赵茁羽

- 更新日期：2019.3.18

- 参与者 ：         管理员，消费者，目标是方便快捷地查询修改账户有关信息


- 触发条件：无

- 前置条件：无

- 后置条件：系统记录用户的账户信息变更情况

- 优先级：高

- 正常流程：
	
	1. 用户进入登录界面，输入用户名与密码进入账户界面
	2. 用户查看账户信息与权限

- 扩展流程：

	1.a. 注册账户
	
		1. 用户输入新账户的用户名与初始密码
		2. 系统显示该账号可被使用
			2.a. 系统提示用户名已被使用
				1. 系统拒绝创建该账户
				2. 返回1.1要求用户重新输入用户名
			2.b. 系统提示密码不合法
				1. 系统拒绝创建该账户并提示密码标准
				2. 返回1.1要求用户重新输入密码
		3. 系统提示新账户创建成功
	2.a. 修改密码
	
		1. 用户输入原密码和新密码
		2. 系统提示密码修改成功
			2.a. 系统拒绝更改密码
				1. 要求用户重新输入原密码和新密码
				2. 返回1.1要求用户重新输入密码
			2.b. 系统提示密码不合法
				1. 系统拒绝创建该账户并提示密码标准
				2. 返回1.1要求用户重新输入密码

- 特殊需求：无

### 4.2 上架电影

- 用例编号：2      

- 名称： 上架电影

- 创建者：赵茁羽

- 创建日期：2019.3.18

- 最后一次更新者：赵茁羽

- 更新日期：2019.3.18

- 参与者：管理员，目标是快捷地上架电影

- 触发条件：有新电影待上架

- 前置条件：管理员已被系统识别并授权

- 后置条件：系统上架新电影，更新电影信息及排片情况

- 优先级：高

- 正常流程：
	
	1. 管理员输入新上架电影名称和基本信息
		1.a. 输入的电影已存在
			1. 系统返回第1步，要求重新输入
	2. 系统显示新上架电影列表
	3. 管理员结束操作
	4. 系统更新新上架电影信息

- 扩展流程：

	1.a. 管理员输入内容格式不正确
		
		1. 系统提示输入格式不正确
		2. 管理员重新输入
	1.b. 管理员取消创建
		
		1. 管理员选择返回并确认
		2. 系统清空表单数据并返回
	1.c. 管理员查询已上架电影情况
		
		1. 管理员输入电影名称
			1. 输入的电影不存在
				1. 系统返回第2步，要求重新输入
		2. 系统显示上架电影情况

- 特殊需求：系统在1s内响应更新

### 4.3 预售信息统计

- 用例编号：3

- 名称：预售信息统计                                              

- 创建者：刘晓东

- 创建日期：2019.3.17

- 最后一次更新者：刘晓东

- 更新日期：2019.3.17

- 参与者 ：管理员 ，目标是得到预售电影想看人数分布

- 触发条件：无

- 前置条件：管理员成功登陆管理系统

- 后置条件：系统产生结果，管理员对于之后的排片计划进行调整

- 优先级：中

- 正常流程：
	
	1. 管理员进入系统登陆界面，正确输入账号密码，点击登陆，进入管理员系统界面。
	2. 管理员查看预售电影是否有人标记为“想看”，人数为多少，并用特定方法进行信息整合。

- 扩展流程：

	1a. 管理员账号密码输入错误
	
		1. 系统显示“账号或密码错误”
		2. 返回第一步，管理员重新输入账号密码

- 特殊需求：系统需具备信息整理功能

### 4.4 查看电影详情

- 用例编号：4

- 名称：查看电影详情                                              

- 创建者：刘晓东

- 创建日期：2019.3.17

- 最后一次更新者：刘晓东

- 更新日期：2019.3.17

- 参与者 ：消费者，目标是获得电影相关信息

- 触发条件：无

- 前置条件：无

- 后置条件：系统返回相应的电影信息，包括制片人，主要演员，情节概况等等。

- 优先级：低

- 正常流程：

	1. 消费者进入观众系统界面，点击需要查询的电影图标

- 扩展流程：

	1a. 消费者对于信息完整度不满意
	
		1. 消费者点击“更多”
		2. 系统为消费者转入信息更多的界面（网站）
	1b. 系统还未获取用户查询的电影信息
	
		1. 界面显示“暂时无法获取”
		2. 用户点击空白处返回电影查询界面

- 特殊需求：系统需连接其他网站以获取更多电影信息

### 4.5 标记喜好电影

- 用例编号：     5 

- 名称：            标记喜好电影                                                     

- 创建者：金勇成

- 创建日期：2019.3.18

- 最后一次更新者：金勇成

- 更新日期：2019.3.18

- 参与者 ：         消费者，目标是让消费者能标记喜好的电影，并查看喜好人数 

- 触发条件：无

- 前置条件：消费者进入电影信息界面


- 后置条件：在消费者界面中该电影被标记为“想看”，系统统计“想看”总人数并显示。“想看”人数对后续排片产生影响。

- 优先级：中

- 正常流程：

    1. 消费者进入电影信息界面。
    2. 消费者标记该电影为“想看”。
    3. 在消费者界面中，该电影被标记。
    4. 系统统计并更新“想看”标记总人数。
    5. 系统显示“想看”标记总人数。

- 扩展流程：

    2、3-a. 消费者取消该电影的“想看”标记
    
        1. 消费者进入电影信息界面
        2. 消费者取消该电影的“想看”标记
        3. 在消费者界面中，该电影标记被取消
        4. 回到正常流程4步骤

- 特殊需求：系统需具备信息整理功能，可建一个消费者“想看”电影专栏，能快捷地对“想看”的电影进行操作。

### 4.6 搜索电影信息

- 用例编号：     6 

- 名称：            搜索电影信息                                                     

- 创建者：金勇成

- 创建日期：2019.3.18

- 最后一次更新者：金勇成

- 更新日期：2019.3.18

- 参与者 ：         消费者，目标是让消费者能通过特定信息查询电影 

- 触发条件：无

- 前置条件：无

- 后置条件：系统返回查询信息

- 优先级：低

- 正常流程：

    1. 查询者申请电影查询。
    2. 系统显示电影查询界面并提示查询者输入电影的名称、日期等信息。
    3. 查询者向系统输入电影信息并确认。
    4. 系统返回查询到的信息，包括电影名称、日期等信息。

- 扩展流程：

    4a. 该电影信息不存在
    
        1. 系统拒绝查询，并提示在该条件下没有电影信息，提示输入正确信息



- 特殊需求：无

## 5. 需求分析模型 

### 5.1 系统顺序图

1. 账户信息管理![](https://i.loli.net/2019/03/20/5c91de55e2761.png)
2. 上架电影![](https://i.loli.net/2019/03/20/5c91de886f90a.png)
3. 预售信息统计![](https://i.loli.net/2019/03/20/5c91debacc87b.png)
4. 查看电影详情![](https://i.loli.net/2019/03/20/5c91dece9546d.png)
5. 标记喜好电影![](https://i.loli.net/2019/03/20/5c91dedbd7423.png)
6. 搜索电影信息![](https://i.loli.net/2019/03/20/5c91def4b9da7.png)

### 5.2 概念类图

1. 各用例的概念类图![](https://i.loli.net/2019/03/20/5c91df17b2c82.png)
2. 全局概念类图![](https://i.loli.net/2019/03/20/5c91df313a138.png)

### 5.3 状态图

![](https://i.loli.net/2019/03/20/5c91df3d675e9.png)